<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head lang="en" th:replace="header :: headerFragment">
</head>
<body class="page-header-fixed bg-1">

	<script>
		$(document).ready(function() {
			$('#dataHome').DataTable({
				"paging" : false,
				"ordering" : false,
				"info" : false
			});

			$('#dataAway').DataTable({
				"paging" : false,
				"ordering" : false,
				"info" : false
			});
		});
	</script>
	<div class="modal-shiftfix">
		<div th:replace="header :: header">&nbsp;</div>
		<div class="container-fluid main-content">

			<div class="page-title">
				<h1>
					<span th:text="#{lbl_gameRecord}"></span>
				</h1>
			</div>
			<form th:action="@{/games/save}" method="post"
				th:object="${gameForm}" class="form-horizontal"
				enctype="multipart/form-data">
				<input type="hidden" name="id" th:field="*{game.id}"
					th:value="*{game.id}"></input> <input type="hidden"
					name="userCreatorId" th:field="*{game.userCreator}"
					th:value="*{game.userCreator}"></input> <input type="hidden"
					name="userCreatorId" th:field="*{game.userCreator}"
					th:value="*{game.userCreator}"></input>

				<div class="row">
					<div class="col-lg-12">
						<div class="widget-container fluid-height clearfix">
							<div class="heading">
								<i class="fa fa-bars"></i><label for="slc_homeTeam"
									th:text="#{lbl_infos}"></label>
							</div>

							<div class="widget-content padded">

								<div class="form-group">
									<label class="control-label col-md-2" for="slc_homeTeam"
										th:text="#{lbl_homeTeam}"></label>
									<div class="col-md-7">
										<select class="select2able" id="slc_homeTeam"
											th:field="*{game.homeTeam.id}">
											<option th:value="0" th:text="#{lbl_chooseHomeTeam}"></option>
											<option th:each="team : ${listTeams}" th:value="${team.id}"
												th:field="*{game.homeTeam.id}" th:text="${team.name}"></option>

										</select>

									</div>
								</div>

								<div class="form-group">
									<label class="control-label col-md-2" for="homeColor"
										th:text="#{lbl_homeColor}"></label>
									<div class="col-md-7">
										<input class="form-control" id="homeColor"
											th:field="*{game.homeColor}"
											th:placeholder="#{lbl_homeColor}" type="text" />
									</div>
								</div>

								<div class="form-group">
									<label class="control-label col-md-2" for="slc_awayTeam"
										th:text="#{lbl_awayTeam}"></label>
									<div class="col-md-7">
										<select class="select2able" id="slc_awayTeam"
											th:field="*{game.awayTeam.id}">
											<option th:value="0" th:text="#{lbl_chooseHomeTeam}"></option>
											<option th:each="team : ${listTeams}" th:value="${team.id}"
												th:field="*{game.awayTeam.id}" th:text="${team.name}"></option>

										</select>

									</div>
								</div>

								<div class="form-group">
									<label class="control-label col-md-2" for="awayColor"
										th:text="#{lbl_awayColor}"></label>
									<div class="col-md-7">
										<input class="form-control" id="homeColor"
											th:field="*{game.awayColor}"
											th:placeholder="#{lbl_awayColor}" type="text" />
									</div>
								</div>

								<div class="form-group">
									<label class="control-label col-md-2" th:text="#{lbl_dtGame}"></label>
									<div class="col-md-7 input-group date datepicker"
										data-date-autoclose="true" data-date-format="dd/mm/yyyy">
										<input class="form-control"
											data-inputmask="'alias': 'dd/MM/yyyy'"
											th:field="*{game.dtGame}" id="date" name="date"
											placeholder="dd/MM/yyyy" type="text" /><span
											class="input-group-addon"><i class="fa fa-calendar"></i></span>
									</div>
								</div>

								<div class="form-group">
									<label class="control-label col-md-2" for="home1st"
										th:text="#{lbl_firstQuarter}"></label>

									<div class="col-md-2">
										<label class="control-label" for="home1st"
											th:text="*{game.homeTeam.name}"></label> <input
											class="form-control col-xs-1" id="home1st"
											data-inputmask="'mask': ['99']" th:field="*{game.home1st}"
											type="text" />
									</div>
									<div class="col-md-2">
										<label class="control-label" for="away1st"
											th:text="*{game.awayTeam.name}"></label> <input
											class="form-control col-xs-1" id="away1st"
											data-inputmask="'mask': ['99']" th:field="*{game.away1st}"
											type="text" />
									</div>
								</div>

								<div class="form-group">
									<label class="control-label col-md-2" for="home2nd"
										th:text="#{lbl_secondQuarter}"></label>

									<div class="col-md-2">
										<label class="control-label" for="home2nd"
											th:text="*{game.homeTeam.name}"></label> <input
											class="form-control col-xs-1" id="home2nd"
											data-inputmask="'mask': ['99']" th:field="*{game.home2nd}"
											type="text" />
									</div>
									<div class="col-md-2">
										<label class="control-label" for="away2nd"
											th:text="*{game.awayTeam.name}"></label> <input
											class="form-control col-xs-1" id="away2nd"
											data-inputmask="'mask': ['99']" th:field="*{game.away2nd}"
											type="text" />
									</div>
								</div>

								<div class="form-group">
									<label class="control-label col-md-2" for="home3rd"
										th:text="#{lbl_thirdQuarter}"></label>

									<div class="col-md-2">
										<label class="control-label" for="home3rd"
											th:text="*{game.homeTeam.name}"></label> <input
											class="form-control col-xs-1" id="home3rd"
											data-inputmask="'mask': ['99']" th:field="*{game.home3rd}"
											type="text" />
									</div>
									<div class="col-md-2">
										<label class="control-label" for="away3rd"
											th:text="*{game.awayTeam.name}"></label> <input
											class="form-control col-xs-1" id="away3rd"
											data-inputmask="'mask': ['99']" th:field="*{game.away3rd}"
											type="text" />
									</div>
								</div>

								<div class="form-group">
									<label class="control-label col-md-2" for="home4th"
										th:text="#{lbl_forthQuarter}"></label>

									<div class="col-md-2">
										<label class="control-label" for="home4th"
											th:text="*{game.homeTeam.name}"></label> <input
											class="form-control col-xs-1" id="home4th"
											data-inputmask="'mask': ['99']" th:field="*{game.home4th}"
											type="text" />
									</div>
									<div class="col-md-2">
										<label class="control-label" for="away4th"
											th:text="*{game.awayTeam.name}"></label> <input
											class="form-control col-xs-1" id="away4th"
											data-inputmask="'mask': ['99']" th:field="*{game.away4th}"
											type="text" />
									</div>
								</div>
								
								<div class="form-group">
									<label class="control-label col-md-2" for="homeOT"
										th:text="#{lbl_overtime}"></label>

									<div class="col-md-2">
										<label class="control-label" for="homeOT"
											th:text="*{game.homeTeam.name}"></label> <input
											class="form-control col-xs-1" id="homeOT"
											data-inputmask="'mask': ['99']" th:field="*{game.homeOT}"
											type="text" />
									</div>
									<div class="col-md-2">
										<label class="control-label" for="awayOT"
											th:text="*{game.awayTeam.name}"></label> <input
											class="form-control col-xs-1" id="awayOT"
											data-inputmask="'mask': ['99']" th:field="*{game.awayOT}"
											type="text" />
									</div>
								</div>


								<div class="form-group" sec:authorize="hasAnyRole('ROLE_ADMIN')">
									<label class="control-label col-md-2"
										th:text="#{lbl_fileSumula}"></label>
									<div class="col-md-7">


										<div class="fileupload fileupload-new"
											data-provides="fileupload">
											<div class="input-group">
												<div class="form-control">
													<i class="fa fa-file fileupload-exists"></i><span
														class="fileupload-preview"></span>
												</div>
												<div class="input-group-btn">
													<span class="btn btn-success fileinput-button"><i
														class="fa fa-plus"></i><span>Add file...</span><input
														id="upload_file" accept="application/pdf" name="file"
														type="file" /></span>
													<button class="btn btn-primary start" name="action"
														value="import" type="submit">
														<i class="fa fa-upload"></i><span>Upload</span>
													</button>
												</div>
											</div>
										</div>
									</div>
								</div>


								<div class="form-group" th:if="*{game.gameDocs != null}"
									sec:authorize="hasAnyRole('ROLE_ADMIN')">
									<label class="control-label col-md-2"
										th:text="#{lbl_fileSumula}"></label>
									<div class="col-md-7">
										<a th:href="@{|/games/downloadFinalSheet/*{game.id}|}">Download</a>

									</div>
								</div>

								<div class="form-group" sec:authorize="hasAnyRole('ROLE_ADMIN')">
									<div class="col-md-2">
										<button type="submit" name="action" value="save"
											th:text="#{lbl_save}" class="btn btn-lg btn-primary"></button>

									</div>
								</div>

							</div>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-md-6">
						<div class="widget-container fluid-height clearfix">
							<div class="heading">
								<i class="fa fa-bars"></i><label for="slc_homeTeam"
									th:text="#{lbl_homeTeam}"></label>
							</div>

							<div class="widget-content padded">

								<table class="table" id="dataTableHome">
									<thead>
										<tr>
											<th><label th:text="#{lbl_played}"><span></span></label></th>
											<th><label th:text="#{lbl_athleteName}"></label></th>
										</tr>
									</thead>
									<tbody>
										<tr
											th:each="homeAthletes, status : ${gameForm.game.homeAthletesGame}">
											<td class="check hidden-xs"><label> <input
													onclick="setName(this);"
													th:checked="*{game.homeAthletesGame[__${status.index}__].played}"
													th:value="${status.index}"
													type="checkbox" /> <span></span></label> 
													
													
													<input
												th:value="*{game.homeAthletesGame[__${status.index}__].played}"
												th:field="*{game.homeAthletesGame[__${status.index}__].played}" type="hidden" /> 
												
												<input
												th:value="${gameForm.game.homeAthletesGame[__${status.index}__].athlete.id}"
												th:field="${gameForm.game.homeAthletesGame[__${status.index}__].athlete.id}"
												type="hidden" />
												
												<input
												th:value="${gameForm.game.homeAthletesGame[__${status.index}__].id}"
												th:field="${gameForm.game.homeAthletesGame[__${status.index}__].id}"
												type="checkbox" />
												
												
												</td>

											<td th:text="${homeAthletes.athlete.name}"></td>


										</tr>

									</tbody>
								</table>

							</div>
						</div>
					</div>

					<div class="col-md-6">
						<div class="widget-container fluid-height clearfix">
							<div class="heading">
								<i class="fa fa-bars"></i><label for="slc_homeTeam"
									th:text="#{lbl_awayTeam}"></label>
							</div>

							<div class="widget-content padded">

								<table class="table" id="dataTableAway">
									<thead>
										<tr>
											<th><label th:text="#{lbl_played}"><span></span></label></th>
											<th><label th:text="#{lbl_athleteName}"></label></th>
										</tr>
									</thead>
										<tbody>
										<tr
											th:each="awayAthletes, status : ${gameForm.game.awayAthletesGame}">
											<td class="check hidden-xs"><label> <input
													onclick="setNameAway(this);"
													th:checked="*{game.awayAthletesGame[__${status.index}__].played}"
													th:value="${status.index}"
													type="checkbox" /> <span></span></label> 
													
													
													<input
												th:value="*{game.awayAthletesGame[__${status.index}__].played}"
												th:field="*{game.awayAthletesGame[__${status.index}__].played}" type="hidden" /> 
												
												<input
												th:value="${gameForm.game.awayAthletesGame[__${status.index}__].athlete.id}"
												th:field="${gameForm.game.awayAthletesGame[__${status.index}__].athlete.id}"
												type="hidden" />
												
												<input
												th:value="${gameForm.game.awayAthletesGame[__${status.index}__].id}"
												th:field="${gameForm.game.awayAthletesGame[__${status.index}__].id}"
												type="checkbox" />
												
												
												</td>

											<td th:text="${awayAthletes.athlete.name}"></td>


										</tr>

									</tbody>
								</table>



							</div>
						</div>


					</div>

					<script>
						function setName(obj) {
							var id = "game.homeAthletesGame" + obj.value
									+ ".played";
							document.getElementById(id).value = obj.checked;
						}

						function setNameAway(obj) {
							var id = "game.awayAthletesGame" + obj.value
									+ ".played";
							document.getElementById(id).value = obj.checked;
						}
					</script>


					<!-- 	<td class="check hidden-xs"><label>
						<input onclick="setName(this, status.index);"
								id="*{game.homeAthletesGame[__${status.index}]}" type="checkbox"
								checked="checked" value="88" /> 
								
								
							<input type="checkbox" value="1092"
							id="game.homeAthletesGame88.athlete.id1"
							name="game.homeAthletesGame[88].athlete.id" checked="checked" /><input
							type="hidden" name="_game.homeAthletesGame[88].athlete.id"
							value="on" /> 
							
							<input type="checkbox" value="true" id="game.homeAthletesGame88.played1" name="game.homeAthletesGame[88].played" checked="checked" />
							<input type="hidden" name="_game.homeAthletesGame[88].played" value="on" />

 -->



				</div>
			</form>


		</div>
	</div>
</body>
</html>